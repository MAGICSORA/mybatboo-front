<page-header height="64px" [title]="category.name | categoryName">
  <mp-icon-button
    left iconName="arrow_back" size="m"
    variant="void" color="grayDark"
    (click)="close()"/>
</page-header>
<div class="record-container">
  <ng-container *ngIf="records$ | async as records">
    <a
      class="record-item"
      *ngFor="let record of records"
      [routerLink]="['diagnosis', record.id]"
    >
      <img [src]="record.imagePath">
      <crop-type-badge [cropType]="record.cropType"></crop-type-badge>
      <span>진단일: {{record.regDate | date: 'yyyy.MM.dd HH:mm'}}</span>
      <span>병해명: {{record.diagnosisResults[0].diseaseCode | diseaseName}}</span>
    </a>
    <ng-container *ngIf="records?.length === 0">
      <div class="empty">
        <mp-icon name="cloud_off" color="grayLight" size="44px"></mp-icon>
        <span>'{{category.name | categoryName}}'에 추가된 진단 기록이 없습니다</span>
      </div>
    </ng-container>
  </ng-container>
</div>
