"use strict";(self.webpackChunkmybatboo=self.webpackChunkmybatboo||[]).push([[4794],{4794:(W,u,o)=>{o.r(u),o.d(u,{MainTabComponent:()=>F});var M=o(974),C=o(7804),f=o(9401),d=o(8505),O=o(4004),x=o(2704),m=o(4066),r=o(3437),P=o(8484),h=o(8054),n=o(2223),v=o(8615),D=o(6814),T=o(2442),y=o(7204),E=o(8740),_=o(4755),b=o(4135),A=o(9972),B=o(5649);function I(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"li",25),n.NdJ("click",function(){const s=n.CHM(e).$implicit,p=n.oxw(3);return n.KtG(p.openDiseaseDetail(s))}),n._uU(1),n.qZA()}if(2&t){const e=i.$implicit;n.xp6(1),n.AsE(" (",e.cropName,") ",e.sickNameKor," ")}}function Z(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"ul"),n.YNc(2,I,2,2,"li",24),n.qZA(),n.BQk()),2&t){const e=n.oxw().ngIf,c=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.occurenceInfo[c.selectedOccurenceStep.value+"List"])}}const l=function(t){return{text:t}};function L(t,i){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"div",14)(2,"div",15)(3,"span"),n._uU(4,"\ubcd1\ud574\ucda9 \ubc1c\uc0dd\uc815\ubcf4"),n.qZA(),n.TgZ(5,"a",16),n._UZ(6,"mp-icon",17),n.qZA()(),n._UZ(7,"mp-divider",18),n.TgZ(8,"div",19)(9,"mp-button",20),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.selectedOccurenceStep.patchValue("warning"))}),n.qZA(),n.TgZ(10,"mp-button",21),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.selectedOccurenceStep.patchValue("watch"))}),n.qZA(),n.TgZ(11,"mp-button",22),n.NdJ("click",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.selectedOccurenceStep.patchValue("forecast"))}),n.qZA()(),n.TgZ(12,"div",23),n.YNc(13,Z,3,1,"ng-container",0),n.qZA()(),n.BQk()}if(2&t){const e=i.ngIf,c=n.oxw();n.xp6(9),n.ekj("active","warning"===c.selectedOccurenceStep.value),n.Q6J("postfix",n.VKq(13,l,(null==e.occurenceInfo?null:e.occurenceInfo.warningListSize)||"0"))("disabled",0===(null==e.occurenceInfo?null:e.occurenceInfo.warningListSize)),n.xp6(1),n.ekj("active","watch"===c.selectedOccurenceStep.value),n.Q6J("postfix",n.VKq(15,l,(null==e.occurenceInfo?null:e.occurenceInfo.watchListSize)||"0"))("disabled",0===(null==e.occurenceInfo?null:e.occurenceInfo.watchListSize)),n.xp6(1),n.ekj("active","forecast"===c.selectedOccurenceStep.value),n.Q6J("postfix",n.VKq(17,l,(null==e.occurenceInfo?null:e.occurenceInfo.forecastListSize)||"0"))("disabled",0===(null==e.occurenceInfo?null:e.occurenceInfo.forecastListSize)),n.xp6(2),n.Q6J("ngIf",e.occurenceInfo&&c.selectedOccurenceStep.value)}}function U(t,i){if(1&t&&(n.TgZ(0,"li"),n._uU(1),n.ALo(2,"categoryName"),n.qZA()),2&t){const e=i.$implicit;n.xp6(1),n.AsE("",n.lcZ(2,2,e.name)," (",e.cnt||0,") ")}}const K=function(){return["/my-page","category"]};function w(t,i){if(1&t&&(n.TgZ(0,"a",26)(1,"span",4),n._uU(2," \ub0b4 \uc791\ubb3c \uad00\ub9ac "),n._UZ(3,"mp-icon",5),n.qZA(),n.TgZ(4,"ul",27),n.YNc(5,U,3,4,"li",28),n.qZA()()),2&t){const e=i.ngLet;n.Q6J("routerLink",n.DdM(2,K)),n.xp6(5),n.Q6J("ngForOf",e)}}const k=function(t){return{occurenceInfo:t}},z=function(){return["/search"]};let F=(()=>{class t{constructor(e,c,a,s,p){this.api=e,this.store$=c,this.navigate=a,this.toast=s,this.modalService=p,this.activeTab$=this.store$.select(m.CK).pipe((0,d.b)(console.log),(0,O.U)(({type:g})=>g)),this.options={path:"/assets/lottie/LottieMap.json",loop:!1,autoplay:!0},this.selectedOccurenceStep=new f.NI("warning"),this.occurenceInfo$=this.api.loadOccurenceInfo().pipe((0,d.b)(({warningListSize:g,watchListSize:S,forecastListSize:R})=>{this.selectedOccurenceStep.patchValue(g>0?"warning":S>0?"watch":R>0?"forecast":null)})),this.currentUser$=this.store$.select(x.HF),this.categories$=this.api.loadUserCategories()}openDiseaseDetail(e){const{sickKey:c,sickNameKor:a,cropName:s}=e;c?this.navigate.openDiseaseDetailModal({sickKey:c,diseaseName:a,cropName:s}):this.toast.show("\ub4f1\ub85d\ub41c \ubcd1\ud574 \uc0c1\uc138 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")}openInquiryForm(){this.modalService.show(h.u)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(v.s),n.Y36(D.yh),n.Y36(T.o),n.Y36(y.k),n.Y36(E.tT))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main-tab"]],standalone:!0,features:[n.jDz],decls:22,vars:11,consts:[[4,"ngIf"],[1,"main-container"],[1,"section-wrapper"],[1,"map-section"],[1,"section-title"],["name","chevron_right","size","20px","color","grayLight"],[3,"options"],["class","category-section",3,"routerLink",4,"ngLet"],["mpMenuCell","","label","\ubcd1\ud574 \uc815\ubcf4 \uac80\uc0c9\ud558\uae30","color","grayDarkest","gap","24px",3,"routerLink"],["adornment","","name","search","color","green"],[1,"guide-section"],["name","help","type","filled","size","20px","color","green"],[1,"inquiry-section",3,"click"],["name","headphones","type","outlined","size","20px","color","green"],[1,"occurrence-info"],[1,"title"],["href","https://ncpms.rda.go.kr/mobile/NewIndcUserListR.ms","mpButton","","size","xs","variant","void","color","greenDark","label","\uc804\uccb4 \ubcf4\uae30"],["right","","name","chevron_right"],["height","16px","direction","horizontal","size","1px"],[1,"selector-wrapper"],["label","\uacbd\ubcf4","color","redDark","size","s","variant","void",3,"postfix","disabled","click"],["label","\uc8fc\uc758\ubcf4","color","yellowDark","size","s","variant","void",3,"postfix","disabled","click"],["label","\uc608\ubcf4","color","greenDark","size","s","variant","void",3,"postfix","disabled","click"],[1,"disease-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"category-section",3,"routerLink"],[1,"categories"],[4,"ngFor","ngForOf"]],template:function(e,c){1&e&&(n.YNc(0,L,14,19,"ng-container",0),n.ALo(1,"async"),n.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"span",4),n._uU(6," \uc8fc\ubcc0 \ubcd1\ud574 \uc9c0\ub3c4 "),n._UZ(7,"mp-icon",5),n.qZA(),n._UZ(8,"ng-lottie",6),n.qZA(),n.YNc(9,w,6,3,"a",7),n.ALo(10,"async"),n.qZA(),n.TgZ(11,"a",8),n._UZ(12,"mp-icon",9),n.qZA(),n.TgZ(13,"div",2)(14,"div",10),n._UZ(15,"mp-icon",11),n.TgZ(16,"span"),n._uU(17,"\uac00\uc774\ub4dc \uc548\ub0b4"),n.qZA()(),n.TgZ(18,"div",12),n.NdJ("click",function(){return c.openInquiryForm()}),n._UZ(19,"mp-icon",13),n.TgZ(20,"span"),n._uU(21,"\uc804\ubb38\uac00\uc5d0\uac8c \ucd94\uac00 \ubb38\uc758"),n.qZA()()()()),2&e&&(n.Q6J("ngIf",n.VKq(8,k,n.lcZ(1,4,c.occurenceInfo$))),n.xp6(8),n.Q6J("options",c.options),n.xp6(1),n.Q6J("ngLet",n.lcZ(10,6,c.categories$)),n.xp6(2),n.Q6J("routerLink",n.DdM(10,z)))},dependencies:[M.B,_.sg,_.O5,b.rH,A.Fo,r.zJ,r.gL,r.VO,r.vS,r.bO,B.eJ,_.Ov,C.CT,C.e$,r.qU,P.D],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;height:calc(var(--full-height) - var(--header-height));padding-top:16px;padding-bottom:calc(var(--tab-bar-height) + 32px);overflow:scroll}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;background:#f5f5f5;border-radius:10px;margin:0 16px;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:var(--grayDark);font-weight:700;display:flex;justify-content:space-between}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .selector-wrapper[_ngcontent-%COMP%]{display:flex;gap:12px}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .selector-wrapper[_ngcontent-%COMP%]   mp-button[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .selector-wrapper[_ngcontent-%COMP%]   mp-button.active[_ngcontent-%COMP%]{background:white;border-radius:8px 8px 0 0}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .disease-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;height:180px;overflow:scroll;background:white;padding:16px 24px 16px 30px;border-radius:0 0 12px 12px}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .disease-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:square}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .disease-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:15px;color:var(--grayDark);font-weight:500;padding:4px 0}[_nghost-%COMP%]   .occurrence-info[_ngcontent-%COMP%]   .disease-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px 16px;gap:24px}[_nghost-%COMP%]   .section-wrapper[_ngcontent-%COMP%]{display:flex;border:1px solid #fcfcfc;gap:12px}[_nghost-%COMP%]   .section-wrapper[_ngcontent-%COMP%]   .map-section[_ngcontent-%COMP%], [_nghost-%COMP%]   .section-wrapper[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .map-section[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;flex-direction:column;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f;border-radius:12px;padding:12px}[_nghost-%COMP%]   .map-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:16px;color:var(--grayDark);font-weight:700}[_nghost-%COMP%]   .category-section[_ngcontent-%COMP%]{display:block;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f;padding:12px;border-radius:12px}[_nghost-%COMP%]   .category-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;font-size:16px;color:var(--grayDark);font-weight:700}[_nghost-%COMP%]   .category-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:square;height:130px;overflow:scroll}[_nghost-%COMP%]   .category-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:15px;color:var(--gray);font-weight:500;margin-left:12px;padding:4px 0}[_nghost-%COMP%]   .category-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .guide-section[_ngcontent-%COMP%], [_nghost-%COMP%]   .inquiry-section[_ngcontent-%COMP%]{display:flex;flex:1;gap:16px;box-shadow:0 3px 8px #14141414,0 0 0 1px #1414140f;border-radius:10px;background-color:#f5f5f5;padding:12px}[_nghost-%COMP%]   [mpMenuCell][_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 3px 8px #14141414,0 0 0 1px #1414140f;background-color:#f5f5f5}']}),t})()}}]);