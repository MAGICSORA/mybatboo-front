"use strict";(self.webpackChunkmybatboo=self.webpackChunkmybatboo||[]).push([[3019],{3019:(v,_,t)=>{t.r(_),t.d(_,{CategoryDiagnosisRecordListComponent:()=>T});var c=t(5649),p=t(1135),C=t(9841),u=t(3900),h=t(9300),x=t(4650),y=t(974),O=t(8484),D=t(50),M=t(9282),o=t(2223),P=t(8615),m=t(8740),r=t(4755),g=t(3437);function E(e,i){if(1&e&&(o.ynx(0),o._uU(1),o.BQk()),2&e){const n=o.oxw().$implicit;o.xp6(1),o.hij("\uc678 ",(null==n?null:n.diagnosisResultList.length)-1," \uac1c")}}function f(e,i){if(1&e){const n=o.EpF();o.TgZ(0,"div",5),o.NdJ("click",function(){const l=o.CHM(n).$implicit,a=o.oxw(2);return o.KtG(a.openDiagnosisResult(l))}),o._UZ(1,"img",6)(2,"crop-type-badge",7),o.TgZ(3,"span"),o._uU(4),o.ALo(5,"diseaseName"),o.YNc(6,E,2,1,"ng-container",2),o.qZA(),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"date"),o.qZA()()}if(2&e){const n=i.$implicit;o.xp6(1),o.Q6J("src",n.diagnosisRecord.imagePath,o.LSH),o.xp6(1),o.Q6J("cropType",null==n.diagnosisRecord?null:n.diagnosisRecord.cropType),o.xp6(2),o.AsE(" \ubcd1\ud574\uba85: ",o.lcZ(5,6,null==n||null==n.diagnosisResultList[0]?null:n.diagnosisResultList[0].diseaseCode)," (",(100*(null==n||null==n.diagnosisResultList[0]?null:n.diagnosisResultList[0].accuracy)).toFixed(2),"%) "),o.xp6(2),o.Q6J("ngIf",(null==n?null:n.diagnosisResultList.length)>1),o.xp6(2),o.hij("\uc9c4\ub2e8\uc77c: ",o.xi3(9,8,null==n?null:n.diagnosisRecord.regDate,"yyyy.MM.dd HH:mm"),"")}}function R(e,i){if(1&e&&(o.ynx(0),o.TgZ(1,"div",8),o._UZ(2,"mp-icon",9),o.TgZ(3,"span"),o._uU(4),o.ALo(5,"categoryName"),o.qZA()(),o.BQk()),2&e){const n=o.oxw(2);o.xp6(4),o.hij("'",o.lcZ(5,1,n.category.name),"'\uc5d0 \ucd94\uac00\ub41c \uc9c4\ub2e8 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")}}function L(e,i){if(1&e&&(o.ynx(0),o.TgZ(1,"div",3),o.YNc(2,f,10,11,"div",4),o.qZA(),o.YNc(3,R,6,3,"ng-container",2),o.BQk()),2&e){const n=i.ngIf;o.xp6(2),o.Q6J("ngForOf",n),o.xp6(1),o.Q6J("ngIf",0===(null==n?null:n.length))}}let T=(()=>{class e extends c.NT{constructor(n,s,d){super(),this.api=n,this.modalRef=s,this.modalService=d,this.status$=new p.X(c.Lr.INITIAL),this.loader$=new p.X(null),this.records$=(0,C.a)([this.loader$,(0,c.X5)(this,"category")]).pipe((0,h.h)(([l,a])=>!!a),(0,u.w)(([l,a])=>this.api.loadCategoryDiagnosisRecords(a.id).pipe()))}ngOnInit(){this.modalRef.setClass("diagnosis-record-list-modal")}close(){this.modalRef.hide()}openDiagnosisResult(n){Promise.all([t.e(5554),t.e(8054),t.e(7615),t.e(8592)]).then(t.bind(t,7615)).then(s=>{this.modalService.show(s.DiagnosisResultComponent,{initialState:{diagnosisId:n.diagnosisRecord.id},onClose:()=>this.loader$.next(null)})})}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(P.s),o.Y36(m.UZ),o.Y36(m.tT))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-category-diagnosis-record-list"]],inputs:{category:"category"},standalone:!0,features:[o.qOj,o.jDz],decls:5,vars:6,consts:[["height","64px",3,"title"],["left","","iconName","arrow_back","size","m","variant","void","color","grayDark",3,"click"],[4,"ngIf"],[1,"record-container"],["class","record-item",3,"click",4,"ngFor","ngForOf"],[1,"record-item",3,"click"],[3,"src"],[3,"cropType"],[1,"empty"],["name","cloud_off","color","grayLight","size","44px"]],template:function(n,s){1&n&&(o.TgZ(0,"page-header",0),o.ALo(1,"categoryName"),o.TgZ(2,"mp-icon-button",1),o.NdJ("click",function(){return s.close()}),o.qZA()(),o.YNc(3,L,4,2,"ng-container",2),o.ALo(4,"async")),2&n&&(o.Q6J("title",o.lcZ(1,2,s.category.name)),o.xp6(3),o.Q6J("ngIf",o.lcZ(4,4,s.records$)))},dependencies:[y.B,r.sg,r.O5,g.zJ,g.KT,g.k_,r.Ov,r.uU,x.q,O.D,D.Y,M.A],styles:['@charset "UTF-8";.bottom-sheet[_nghost-%COMP%], .bottom-sheet   [_nghost-%COMP%]{height:auto;max-height:auto!important}[_nghost-%COMP%]{padding-top:var(--page-header-height);padding-bottom:var(--bottom-fixed-bar-height)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   page-header[_ngcontent-%COMP%]{box-shadow:inset 0 -1px #0000001f}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:12px;grid-row-gap:12px;padding:12px 20px 24px}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:12px;gap:12px;border-radius:12px;box-shadow:0 6px 16px #14141414,0 0 0 1px #1414140f}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:auto;aspect-ratio:1;border-radius:12px}[_nghost-%COMP%]   .record-container[_ngcontent-%COMP%]   .record-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:var(--gray);font-weight:500}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;align-items:center;justify-content:center;padding-bottom:36px;font-size:18px;color:var(--gray);font-weight:500}']}),e})()}}]);